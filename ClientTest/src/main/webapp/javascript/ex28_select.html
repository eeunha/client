<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- ex28_select.html -->
    <h1>셀렉트 박스</h1>

    <select name="sel1" multiple size="7">
      <option value="f1">사과</option>
      <option value="f2">딸기</option>
      <option value="f3">바나나</option>
      <option value="f4">키위</option>
      <option value="f5">망고</option>
    </select>

    <hr />

    <input type="button" value="버튼1" name="btn1" />
    <input type="button" value="버튼2" name="btn2" />
    <input type="button" value="버튼3" name="btn3" />
    <input type="button" value="버튼4" name="btn4" />
    <input type="button" value="버튼5" name="btn5" />

    <script>
      var sel1 = document.all.sel1;

      document.all.btn1.onclick = m1;
      document.all.btn2.onclick = m2;
      document.all.btn3.onclick = m3;
      document.all.btn4.onclick = m4;
      document.all.btn5.onclick = m5;

      function m1() {
        //사용자가 선택한 과일? > 모든 입력 컨트롤 > value 속성
        // alert(sel1.value);

        // 없는 것 넣으면 안된다.
        // sel1.value = "파인애플";
        sel1.value = "f3"; // 바나나  f3의 value를 넣는다.
      }

      function m2() {
        // js 속성. html에는 없다.
        // alert(sel1.selectedIndex);

        sel1.selectedIndex = 1; // 딸기  index=1의 value를 넣는다.
      }

      function m3() {
        // <option> 중복 추가 방지
        for (var i = 0; i < sel1.options.length; i++) {
          // alert(sel1.options[i].text);

          if (sel1.options[i].text == "파인애플") {
            return;
          }
        }

        // 동적으로 항목을 추가
        //- <option> 태그 생성하기

        //<option value='f6'>파인애플</option>

        var op = new Option(); //<option></option>
        op.value = "f6"; //<option value='f6'></option>
        op.text = "파인애플"; //<option value='f6'>파인애플</option>
        // 부모자식 연결 아직 안해서 안보임

        // <select> + <option> 연결
        sel1.options.add(op);
        // 이제 보인다.
      }

      function m4() {
        // 동적으로 삭제하기 > index shift 발생
        // <option> 삭제
        // sel1.options.remove(2);

        // 사용자가 선택한 과일을 삭제
        sel1.options.remove(sel1.selectedIndex);
      }

      function m5() {
        // 단일 선택
        // alert(sel1.value);

        // 다중 선택
        for (var i = 0; i < sel1.options.length; i++) {
          // alert(sel1.options[i].selected);

          if (sel1.options[i].selected) {
            alert(sel1.options[i].text + "(" + sel1.options[i].value + ")");
          }
        }

        // sel1.options[1].selected = true;
        // sel1.options[2].selected = true;
        // sel1.options[3].selected = true;

        //q11 ondblclick
        //q12 check or Enter(keyCode=13) 시 readonly or disabled
        //double click -> 잠금 해제
      }
    </script>
  </body>
</html>
